<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ãƒãƒ£ãƒƒãƒ”ãƒ¼ï¼†ã‚µãƒªãƒ¼ ã‚¿ãƒ­ãƒƒãƒˆ</title>
  <style>
    :root{
      --bg1:#fff6fb;
      --bg2:#f3f8ff;
      --card:#ffffffcc;
      --line:#ffd2e6;
      --text:#2b2b2b;
      --muted:#666;
      --pink:#ff6aa2;
      --blue:#5aa7ff;
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Sans", "Yu Gothic", sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 20% 10%, var(--bg1), transparent),
                  radial-gradient(1200px 600px at 80% 0%, var(--bg2), transparent),
                  linear-gradient(180deg, #ffffff, #fff);
      min-height:100vh;
      padding: 20px 14px 40px;
    }
    .wrap{
      max-width: 860px;
      margin: 0 auto;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:.5em;
      padding: 8px 12px;
      border: 1px solid var(--line);
      background: #fff;
      border-radius: 999px;
      box-shadow: 0 6px 16px rgba(0,0,0,.05);
      font-size: 13px;
    }
    h1{
      margin: 14px 0 6px;
      font-size: 34px;
      letter-spacing: .02em;
    }
    .lead{
      margin: 0 0 18px;
      color: var(--muted);
      line-height: 1.7;
    }
    .panel{
      border: 1px solid var(--line);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
    }
    .controls{
      display:flex;
      gap:10px;
      flex-wrap: wrap;
      align-items:center;
      justify-content: space-between;
      margin-bottom: 14px;
    }
    .seg{
      display:flex;
      gap:6px;
      padding: 6px;
      border: 1px solid var(--line);
      background: #fff;
      border-radius: 999px;
    }
    .seg button{
      border:0;
      background: transparent;
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 14px;
      cursor:pointer;
      color: var(--muted);
    }
    .seg button.active{
      background: linear-gradient(135deg, #ffe1ef, #e6f1ff);
      color: var(--text);
      font-weight: 700;
    }
    .btns{
      display:flex;
      gap:10px;
    }
    .btn{
      border:0;
      cursor:pointer;
      padding: 12px 16px;
      border-radius: 14px;
      font-size: 15px;
      font-weight: 700;
      box-shadow: 0 10px 24px rgba(0,0,0,.10);
    }
    .btn.primary{
      color:#fff;
      background: linear-gradient(135deg, var(--pink), var(--blue));
    }
    .btn.ghost{
      background:#fff;
      color: var(--text);
      border: 1px solid var(--line);
      box-shadow: 0 8px 18px rgba(0,0,0,.06);
    }

    .area{
      display:flex;
      gap: 14px;
      flex-wrap: wrap;
      align-items: stretch;
      justify-content: center;
      padding: 10px 4px 2px;
      min-height: 240px;
    }

    .slot{
      width: 220px;
      max-width: 44vw;
      aspect-ratio: 63/88;
      border-radius: 16px;
      border: 1px dashed #ffc2dc;
      background: rgba(255,255,255,.7);
      display:flex;
      align-items:center;
      justify-content:center;
      position: relative;
      overflow:hidden;
    }
    .slot img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      border-radius: 16px;
      transform-origin: center;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.12));
    }
    .tag{
      position:absolute;
      left:10px;
      top:10px;
      padding: 6px 10px;
      background: rgba(255,255,255,.92);
      border: 1px solid var(--line);
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
    }

    .hint{
      text-align:center;
      color: var(--muted);
      margin-top: 10px;
      font-size: 13px;
      line-height: 1.6;
    }

    footer{
      margin-top: 14px;
      text-align:center;
      color: #888;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="badge">ğŸ¶ ãƒãƒ£ãƒƒãƒ”ãƒ¼ï¼†ã‚µãƒªãƒ¼ã®ã‚¿ãƒ­ãƒƒãƒˆ ğŸ”® <span style="opacity:.55">GitHub Pages</span></div>

    <h1>ãƒãƒ£ãƒƒãƒ”ãƒ¼ï¼†ã‚µãƒªãƒ¼ ã‚¿ãƒ­ãƒƒãƒˆ</h1>
    <p class="lead">1æš or 3æšã‚’é¸ã‚“ã§ã€Œã‚«ãƒ¼ãƒ‰ã‚’å¼•ãã€ã‚’æŠ¼ã—ã¦ã­ã€‚é€†ä½ç½®ã‚‚å‡ºã‚‹ã‚ˆâœ¨ï¼ˆè§£èª¬ã¯ã‚ã¨ã§ChatGPTã«èãç”¨ï¼‰</p>

    <div class="panel">
      <div class="controls">
        <div class="seg" aria-label="æšæ•°åˆ‡ã‚Šæ›¿ãˆ">
          <button id="mode1" class="active" type="button">1æšå¼•ã</button>
          <button id="mode3" type="button">3æšå¼•ã</button>
        </div>

        <div class="btns">
          <button id="drawBtn" class="btn primary" type="button">ã‚«ãƒ¼ãƒ‰ã‚’å¼•ã âœ¨</button>
          <button id="resetBtn" class="btn ghost" type="button">ãƒªã‚»ãƒƒãƒˆ</button>
        </div>
      </div>

      <div id="cardsArea" class="area"></div>

      <div class="hint">
        â€»ã‚«ãƒ¼ãƒ‰ç”»åƒã¯ <b>ã€Œã‚«ãƒ¼ãƒ‰ã€ãƒ•ã‚©ãƒ«ãƒ€</b>ã«ç½®ã„ã¦ã­ï¼ˆä¾‹ï¼š<code>ã‚«ãƒ¼ãƒ‰/00_The_Fool.png</code>ï¼‰<br/>
        â€»é€†ä½ç½®ã¯ç”»åƒã‚’ä¸Šä¸‹åè»¢ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚ˆğŸ¾
      </div>
    </div>

    <footer>Â© Chappy & Sally Tarot</footer>
  </div>

  <script>
    // ====== ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆã“ã“ã¯ã€ã•ã¡ã‚ˆã®æŒ‡å®šåãã®ã¾ã¾ï¼‰ ======
    const cardFiles = [
      "00_The_Fool.png",
      "01_The_Magician.png",
      "02_The_High_Priestess.png",
      "03_The_Empress.png",
      "04_The_Emperor.png",
      "05_The_Hierophant.png",
      "06_The_Lovers.png",
      "07_The_Chariot.png",
      "08_Strength.png",
      "09_The_Hermit.png",
      "10_Wheel_of_Fortune.png",
      "11_Justice.png",
      "12_The_Hanged_Man.png",
      "13_Death.png",
      "14_Temperance.png",
      "15_The_Devil.png",
      "16_The_Tower.png",
      "17_The_Star.png",
      "18_The_Moon.png",
      "19_The_Sun.png",
      "20_Judgement.png",
      "21_The_World.png",
      "22_Compass.png"
    ];

    const $ = (id) => document.getElementById(id);

    const mode1Btn = $("mode1");
    const mode3Btn = $("mode3");
    const drawBtn  = $("drawBtn");
    const resetBtn = $("resetBtn");
    const area     = $("cardsArea");

    let mode = 1; // 1 or 3

    function setMode(n){
      mode = n;
      if(n === 1){
        mode1Btn.classList.add("active");
        mode3Btn.classList.remove("active");
      }else{
        mode3Btn.classList.add("active");
        mode1Btn.classList.remove("active");
      }
      renderEmpty();
    }

    function renderEmpty(){
      area.innerHTML = "";
      const count = mode;
      for(let i=0;i<count;i++){
        const slot = document.createElement("div");
        slot.className = "slot";
        slot.innerHTML = `<div class="tag">ã¾ã å¼•ã„ã¦ãªã„ã‚ˆ</div>`;
        area.appendChild(slot);
      }
    }

    function sampleUnique(arr, n){
      const copy = [...arr];
      const picked = [];
      for(let i=0;i<n;i++){
        const idx = Math.floor(Math.random() * copy.length);
        picked.push(copy.splice(idx, 1)[0]);
      }
      return picked;
    }

    function draw(){
      const picks = sampleUnique(cardFiles, mode);
      area.innerHTML = "";

      picks.forEach((file)=>{
        const isReversed = Math.random() < 0.5; // 50%ã§é€†ä½ç½®
        const slot = document.createElement("div");
        slot.className = "slot";

        const tag = document.createElement("div");
        tag.className = "tag";
        tag.textContent = isReversed ? "é€†ä½ç½®" : "æ­£ä½ç½®";

        const img = document.createElement("img");
        img.alt = file;
        img.src = `ã‚«ãƒ¼ãƒ‰/${file}`;
        if(isReversed){
          img.style.transform = "rotate(180deg)";
        }

        slot.appendChild(tag);
        slot.appendChild(img);
        area.appendChild(slot);
      });
    }

    function reset(){
      renderEmpty();
    }

    // events
    mode1Btn.addEventListener("click", ()=>setMode(1));
    mode3Btn.addEventListener("click", ()=>setMode(3));
    drawBtn.addEventListener("click", draw);
    resetBtn.addEventListener("click", reset);

    // init
    renderEmpty();
  </script>
</body>
</html>
