<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãƒãƒ£ãƒƒãƒ”ãƒ¼ï¼†ã‚µãƒªãƒ¼ã®ã‚¿ãƒ­ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</title>

  <style>
    body{
      font-family: "Hiragino Kaku Gothic ProN", "ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ã‚·ãƒƒã‚¯ProN", sans-serif;
      text-align: center;
      background: #fff0f5;
      padding: 20px;
      margin: 0;
    }

    /* ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆè‰²ï¼‰ */
    h1{
      font-size: 30px;
      margin: 10px 0 8px;
      color: #5a3a2e; /* ãƒãƒ§ã‚³ */
      line-height: 1.25;
    }

    .subtitle{
      color: #555;
      margin: 0 0 18px;
      font-size: 15px;
    }

    .btns{
      margin: 10px 0 18px;
    }

    button{
      font-size: 16px;
      padding: 12px 20px;
      margin: 6px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      background: linear-gradient(135deg, #f7c1cc, #c9b6ff);
      color: #fff;
      box-shadow: 0 6px 14px rgba(0,0,0,0.12);
      transition: transform 0.12s, box-shadow 0.12s;
    }
    button:active{
      transform: scale(0.96);
      box-shadow: 0 3px 9px rgba(0,0,0,0.10);
    }

    .cards-area{
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 18px;
      flex-wrap: wrap;
    }

    .card-box{
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 170px;
    }

    .card-img{
      width: 160px;
      border-radius: 12px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.2);
      transition: transform 0.3s;
    }

    .reversed{
      transform: rotate(180deg);
    }

    .card-name{
      margin-top: 10px;
      font-size: 14px;
      color: #444;
    }

    /* ğŸ¾ã‚³ãƒ”ãƒ¼ç”¨ãƒœã‚¿ãƒ³ï¼ˆãƒ”ãƒ³ã‚¯ã‚´ãƒ¼ãƒ«ãƒ‰å¯„ã‚Šï¼‰ */
    .copy-btn{
      margin-top: 8px;
      font-size: 22px;
      border-radius: 50%;
      padding: 10px 12px;
      background: linear-gradient(135deg, #f7c1cc, #e6a4b4, #f3d1dc);
      color: #fff;
      box-shadow: 0 4px 10px rgba(230,164,180,0.6);
      transition: transform 0.12s, box-shadow 0.12s;
      line-height: 1;
    }
    .copy-btn:active{
      transform: scale(0.88);
      box-shadow: 0 2px 6px rgba(230,164,180,0.4);
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(90,58,46,0.92);
      color: #fff;
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 13px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s;
      z-index: 9999;
    }
    .toast.show{
      opacity: 1;
    }

    footer{
      margin-top: 28px;
      font-size: 12px;
      color: #888;
    }
  </style>
</head>

<body>
  <h1>ğŸ¶ãƒãƒ£ãƒƒãƒ”ãƒ¼ï¼†ã‚µãƒªãƒ¼ã®<br>ã‚¿ãƒ­ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ğŸ¾</h1>
  <p class="subtitle">ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚«ãƒ¼ãƒ‰ã‚’å¼•ã„ã¦ã­âœ¨</p>

  <div class="btns">
    <button type="button" onclick="drawCards(1)">1æšå¼•ã</button>
    <button type="button" onclick="drawCards(3)">3æšå¼•ã</button>
    <button type="button" onclick="resetCards()">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>

  <div id="cardsArea" class="cards-area"></div>

  <footer>Â© Chappy & Sally Tarot</footer>
  <div id="toast" class="toast">ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆğŸ¾</div>

  <script>
    // ===== ã‚«ãƒ¼ãƒ‰ä¸€è¦§ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åã¯ cards ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã¨ä¸€è‡´ã•ã›ã‚‹ï¼‰ =====
    const CARDS = [
      { file: "00_The_Fool.png",           name: "æ„šè€… / The Fool" },
      { file: "01_The_Magician.png",       name: "é­”è¡“å¸« / The Magician" },
      { file: "02_The_High_Priestess.png", name: "å¥³æ•™çš‡ / The High Priestess" },
      { file: "03_The_Empress.png",        name: "å¥³å¸ / The Empress" },
      { file: "04_The_Emperor.png",        name: "çš‡å¸ / The Emperor" },
      { file: "05_The_Hierophant.png",     name: "æ³•ç‹ / The Hierophant" },
      { file: "06_The_Lovers.png",         name: "æ‹äºº / The Lovers" },
      { file: "07_The_Chariot.png",        name: "æˆ¦è»Š / The Chariot" },
      { file: "08_Strength.png",           name: "åŠ› / Strength" },
      { file: "09_The_Hermit.png",         name: "éš è€… / The Hermit" },
      { file: "10_Wheel_of_Fortune.png",   name: "é‹å‘½ã®è¼ª / Wheel of Fortune" },
      { file: "11_Justice.png",            name: "æ­£ç¾© / Justice" },
      { file: "12_The_Hanged_Man.png",     name: "åŠã‚‹ã•ã‚ŒãŸç”· / The Hanged Man" },
      { file: "13_Death.png",              name: "æ­»ç¥ / Death" },
      { file: "14_Temperance.png",         name: "ç¯€åˆ¶ / Temperance" },
      { file: "15_The_Devil.png",          name: "æ‚ªé­” / The Devil" },
      { file: "16_The_Tower.png",          name: "å¡” / The Tower" },
      { file: "17_The_Star.png",           name: "æ˜Ÿ / The Star" },
      { file: "18_The_Moon.png",           name: "æœˆ / The Moon" },
      { file: "19_The_Sun.png",            name: "å¤ªé™½ / The Sun" },
      { file: "20_Judgement.png",          name: "å¯©åˆ¤ / Judgement" },
      { file: "21_The_World.png",          name: "ä¸–ç•Œ / The World" },
      { file: "22_Compass.png",            name: "ç¾…é‡ç›¤ / Compass" }
    ];

    function randInt(max){
      return Math.floor(Math.random() * max);
    }

    function pickUnique(n){
      const pool = [...CARDS];
      const chosen = [];
      for(let i=0;i<n;i++){
        const idx = randInt(pool.length);
        chosen.push(pool.splice(idx, 1)[0]);
      }
      return chosen;
    }

    function isReversed(){
      return Math.random() < 0.5;
    }

    function toast(msg){
      const t = document.getElementById("toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(()=> t.classList.remove("show"), 1200);
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        toast("ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆğŸ¾");
      }catch(e){
        // clipboardãŒä½¿ãˆãªã„ç«¯æœ«å‘ã‘ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        toast("ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆğŸ¾");
      }
    }

    function render(cards){
      const area = document.getElementById("cardsArea");
      area.innerHTML = "";

      cards.forEach((c) => {
        const reversed = isReversed();

        const box = document.createElement("div");
        box.className = "card-box";

        const img = document.createElement("img");
        img.className = "card-img" + (reversed ? " reversed" : "");
        img.src = "cards/" + c.file;
        img.alt = c.name;

        const name = document.createElement("div");
        name.className = "card-name";
        name.textContent = c.name + (reversed ? "ï¼ˆé€†ä½ç½®ï¼‰" : "ï¼ˆæ­£ä½ç½®ï¼‰");

        const copyBtn = document.createElement("button");
        copyBtn.type = "button";
        copyBtn.className = "copy-btn";
        copyBtn.textContent = "ğŸ¾";
        copyBtn.onclick = () => copyText(name.textContent);

        box.appendChild(img);
        box.appendChild(name);
        box.appendChild(copyBtn);

        area.appendChild(box);
      });
    }

    function drawCards(n){
      const chosen = pickUnique(n);
      render(chosen);
    }

    function resetCards(){
      document.getElementById("cardsArea").innerHTML = "";
      toast("ãƒªã‚»ãƒƒãƒˆã—ãŸã‚ˆğŸ¾");
    }
  </script>
</body>
</html>
