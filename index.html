<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãƒãƒ£ãƒƒãƒ”ãƒ¼ï¼†ã‚µãƒªãƒ¼ã®ã‚¿ãƒ­ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</title>

  <style>
    :root{
      --bg:#fff0f5;
      --choco:#5b3a1e;
      --text:#6b6b6b;
      --btnA:#f7c1cc;
      --btnB:#c9b6ff;
      --shadow:0 10px 24px rgba(0,0,0,.12);
      --softShadow:0 8px 18px rgba(0,0,0,.10);
      --radius:22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:"Hiragino Kaku Gothic ProN","Hiragino Sans","Noto Sans JP",sans-serif;
      text-align:center;
      background:var(--bg);
      color:#222;
      overflow-x:hidden;
    }

    /* ãã‚‰ãã‚‰èƒŒæ™¯ */
    body:before{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      background:
        radial-gradient(circle at 12% 18%, rgba(255,215,0,.35) 0 2px, transparent 3px),
        radial-gradient(circle at 82% 22%, rgba(255,215,0,.28) 0 2px, transparent 3px),
        radial-gradient(circle at 18% 78%, rgba(255,215,0,.22) 0 2px, transparent 3px),
        radial-gradient(circle at 90% 70%, rgba(255,215,0,.22) 0 2px, transparent 3px),
        radial-gradient(circle at 50% 10%, rgba(255,255,255,.7) 0 2px, transparent 4px),
        radial-gradient(circle at 6% 55%, rgba(255,255,255,.5) 0 2px, transparent 4px),
        radial-gradient(circle at 96% 52%, rgba(255,255,255,.5) 0 2px, transparent 4px);
      opacity:.9;
    }

    .wrap{
      max-width:900px;
      margin:0 auto;
      padding:26px 14px 40px;
    }

    /* ã‚¿ã‚¤ãƒˆãƒ«å‘¨ã‚Š */
    .hero{
      position:relative;
      margin:10px auto 10px;
      padding:10px 10px 0;
    }
    .title{
      font-size:34px;
      line-height:1.2;
      margin:10px 0 10px;
      font-weight:900;
      color:var(--choco);
      letter-spacing:.02em;
      text-shadow:0 2px 0 rgba(255,255,255,.65);
    }

    .decor-row{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
      margin:8px 0 16px;
      flex-wrap:wrap;
    }
    .mini{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
      flex-wrap:wrap;
    }
    .mini .chara{
      font-size:44px;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,.12));
    }
    .mini .compass{
      font-size:42px;
      opacity:.9;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,.10));
    }

    /* é£¾ã‚Šã‚«ãƒ¼ãƒ‰ã£ã½ã„ */
    .float-card{
      width:56px; height:80px;
      border-radius:10px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,215,0,.35) 0 6px, transparent 7px),
        linear-gradient(145deg, #222a53, #0f1433);
      border:2px solid rgba(255,215,0,.35);
      box-shadow:0 10px 18px rgba(0,0,0,.18);
      transform:rotate(-10deg);
    }
    .float-card.r{ transform:rotate(10deg); }

    /* å…¥åŠ›æ¬„ */
    .question-box{
      display:flex;
      justify-content:center;
      margin:8px 0 12px;
    }
    .question{
      width:min(640px, 92vw);
      height:52px;
      border-radius:999px;
      border:3px solid rgba(201,182,255,.55);
      outline:none;
      padding:0 18px;
      font-size:18px;
      background:rgba(255,255,255,.75);
      box-shadow:0 10px 18px rgba(0,0,0,.08);
      color:#333;
    }
    .question::placeholder{
      color:#9a7f8d;
    }

    .hint{
      color:#777;
      margin:10px 0 18px;
      font-size:16px;
    }

    /* ãƒœã‚¿ãƒ³ */
    .btns{
      display:flex;
      justify-content:center;
      gap:14px;
      flex-wrap:wrap;
      margin:12px 0 10px;
    }
    button{
      font-size:18px;
      padding:14px 28px;
      border:none;
      border-radius:999px;
      cursor:pointer;
      color:#fff;
      background:linear-gradient(135deg, var(--btnA), var(--btnB));
      box-shadow:var(--shadow);
      transition:transform .12s, box-shadow .12s, filter .12s;
      font-weight:700;
      min-width:150px;
    }
    button:active{
      transform:scale(.96);
      box-shadow:0 6px 14px rgba(0,0,0,.12);
      filter:saturate(1.05);
    }

    /* ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºã‚¨ãƒªã‚¢ */
    .cards-area{
      display:flex;
      justify-content:center;
      gap:22px;
      margin-top:22px;
      flex-wrap:wrap;
    }

    .card-box{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      min-width:220px;
    }

    .pos-label{
      font-weight:900;
      color:var(--choco);
      letter-spacing:.06em;
      background:rgba(255,255,255,.55);
      padding:6px 14px;
      border-radius:999px;
      box-shadow:0 6px 14px rgba(0,0,0,.08);
      display:none; /* 3æšã®ã¨ãã ã‘è¡¨ç¤º */
    }

    .card-img{
      width:200px;
      border-radius:16px;
      box-shadow:0 10px 22px rgba(0,0,0,.18);
      transition:transform .2s;
      background:#fff;
    }

    .reversed{
      transform:rotate(180deg);
    }

    .card-name{
      font-weight:900;
      color:var(--choco);
      font-size:18px;
      margin-top:2px;
    }
    .card-sub{
      font-size:14px;
      color:#666;
      margin-top:-6px;
    }

    /* ğŸ¾ã‚³ãƒ”ãƒ¼ */
    .copy-btn{
      margin-top:6px;
      width:64px;
      height:64px;
      border-radius:50%;
      border:none;
      cursor:pointer;
      font-size:28px;
      color:#fff;
      background:linear-gradient(135deg, #f7c1cc, #e6a4b4, #f3d1dc);
      box-shadow:0 10px 18px rgba(230,164,180,.45);
      transition:transform .12s, box-shadow .12s;
      display:none; /* ã‚«ãƒ¼ãƒ‰å‡ºãŸã‚‰è¡¨ç¤º */
    }
    .copy-btn:active{
      transform:scale(.92);
      box-shadow:0 6px 14px rgba(230,164,180,.35);
    }

    .toast{
      position:fixed;
      left:50%;
      bottom:22px;
      transform:translateX(-50%);
      background:rgba(0,0,0,.75);
      color:#fff;
      padding:10px 14px;
      border-radius:12px;
      font-size:14px;
      opacity:0;
      pointer-events:none;
      transition:opacity .2s, transform .2s;
      z-index:9999;
    }
    .toast.show{
      opacity:1;
      transform:translateX(-50%) translateY(-6px);
    }

    footer{
      margin-top:34px;
      font-size:12px;
      color:#888;
    }

    /* ã‚¹ãƒãƒ›å¾®èª¿æ•´ */
    @media (max-width:520px){
      .title{ font-size:30px; }
      .card-img{ width:170px; }
      .card-box{ min-width:190px; }
      button{ min-width:140px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="hero">
      <div class="decor-row" aria-hidden="true">
        <div class="float-card"></div>

        <div class="mini">
          <div class="mini">
            <div class="title">ãƒãƒ£ãƒƒãƒ”ãƒ¼ï¼†ã‚µãƒªãƒ¼ã®<br>ã‚¿ãƒ­ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ ğŸ¾</div>
          </div>
        </div>

        <div class="float-card r"></div>
      </div>

      <div class="decor-row" aria-hidden="true">
        <div class="chara" style="font-size:46px;">ğŸ¶</div>
        <div class="compass">ğŸ§­</div>
        <div class="chara" style="font-size:46px;">ğŸ¶</div>
      </div>
    </div>

    <div class="question-box">
      <input id="question" class="question" placeholder="ä»Šæ—¥ã®å•ã„ã‚’å…¥ã‚Œã¦ã‹ã‚‰å¼•ã" />
    </div>

    <p class="hint">ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚«ãƒ¼ãƒ‰ã‚’å¼•ã„ã¦ã­âœ¨</p>

    <div class="btns">
      <button id="draw1">1æšå¼•ã</button>
      <button id="draw3">3æšå¼•ã</button>
      <button id="reset">ãƒªã‚»ãƒƒãƒˆ</button>
    </div>

    <div id="cardsArea" class="cards-area"></div>

    <footer>Â© Chappy & Sally Tarot</footer>
  </div>

  <div id="toast" class="toast">ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆğŸ¾</div>

  <script>
    // ======= ã‚«ãƒ¼ãƒ‰ä¸€è¦§ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åãã®ã¾ã¾ï¼‰ =======
    const cards = [
      { file: "00_The_Fool.png", name: "æ„šè€…", en: "THE FOOL" },
      { file: "01_The_Magician.png", name: "é­”è¡“å¸«", en: "THE MAGICIAN" },
      { file: "02_The_High_Priestess.png", name: "å¥³æ•™çš‡", en: "THE HIGH PRIESTESS" },
      { file: "03_The_Empress.png", name: "å¥³å¸", en: "THE EMPRESS" },
      { file: "04_The_Emperor.png", name: "çš‡å¸", en: "THE EMPEROR" },
      { file: "05_The_Hierophant.png", name: "æ•™çš‡", en: "THE HIEROPHANT" },
      { file: "06_The_Lovers.png", name: "æ‹äºº", en: "THE LOVERS" },
      { file: "07_The_Chariot.png", name: "æˆ¦è»Š", en: "THE CHARIOT" },
      { file: "08_Strength.png", name: "åŠ›", en: "STRENGTH" },
      { file: "09_The_Hermit.png", name: "éš è€…", en: "THE HERMIT" },
      { file: "10_Wheel_of_Fortune.png", name: "é‹å‘½ã®è¼ª", en: "WHEEL OF FORTUNE" },
      { file: "11_Justice.png", name: "æ­£ç¾©", en: "JUSTICE" },
      { file: "12_The_Hanged_Man.png", name: "åŠã‚‹ã•ã‚ŒãŸç”·", en: "THE HANGED MAN" },
      { file: "13_Death.png", name: "æ­»ç¥", en: "DEATH" },
      { file: "14_Temperance.png", name: "ç¯€åˆ¶", en: "TEMPERANCE" },
      { file: "15_The_Devil.png", name: "æ‚ªé­”", en: "THE DEVIL" },
      { file: "16_The_Tower.png", name: "å¡”", en: "THE TOWER" },
      { file: "17_The_Star.png", name: "æ˜Ÿ", en: "THE STAR" },
      { file: "18_The_Moon.png", name: "æœˆ", en: "THE MOON" },
      { file: "19_The_Sun.png", name: "å¤ªé™½", en: "THE SUN" },
      { file: "20_Judgement.png", name: "å¯©åˆ¤", en: "JUDGEMENT" },
      { file: "21_The_World.png", name: "ä¸–ç•Œ", en: "THE WORLD" },
      { file: "22_Compass.png", name: "ç¾…é‡ç›¤", en: "COMPASS" }
    ];

    const cardsArea = document.getElementById("cardsArea");
